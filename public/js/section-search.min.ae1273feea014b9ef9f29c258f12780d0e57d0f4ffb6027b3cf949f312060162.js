document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("menu-search-input");if(e){const t=getCurrentSection();e.addEventListener("keypress",function(e){if(e.key==="Enter"){e.preventDefault();const n=this.value.trim();if(n){let e=n;const s=n.split(/\s+/).some(e=>e.startsWith("@"));!s&&t&&(e=`@${t} ${n}`),window.location.href=`/search/?q=${encodeURIComponent(e)}`}}})}});function getCurrentSection(){const e=document.querySelector(".menu-root-title a");if(e){const t=e.getAttribute("href");if(t){const e=t.match(/\/(.*?)\//);if(e&&e[1])return e[1]}return e.textContent.trim()}return""}